# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type AccountModel {
  accessToken: String
  accountId: String!
  expiresAt: DateTime!
  id: ID!
  provider: String!
  refreshToken: String
  type: String!
  user: UserModel!
}

enum AuthMethod {
  CREDENTIALS
  GITHUB
  GOOGLE
  YANDEX
}

input CreateRouteDto {
  description: String
  tagIds: [String!]
  title: String!
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

type Mutation {
  createRoute(data: CreateRouteDto!): RouteModel!
  deleteRoute(id: ID!): Boolean!
  updateRoute(data: UpdateRouteDto!, id: ID!): RouteModel!
  updateSkillProfile(dto: SkillProfileDto!): SkillProfile!
  updateUserProfile(dto: UserProfileDto!): UserModel!
}

enum PrivateType {
  GENERAL
  PRIVATE
}

type Query {
  findAllTags: [TagModel!]!
  findById(id: String!): UserModel!
  findProfile: UserModel!
  findRoute(id: ID!): RouteModel!
  findRoutesByUser: [RouteModel!]!
  findUserTags: [TagModel!]!
}

type RouteModel {
  createdAt: DateTime!
  description: String
  id: ID!
  privateType: PrivateType!
  tags: [RouteTagModel!]
  title: String!
  topicNodes: [TopicNodeModel!]
  updatedAt: DateTime!
  user: UserModel!
}

type RouteTagModel {
  id: ID!
  route: RouteModel!
  tag: TagModel!
}

type SkillProfile {
  githubUrl: String
  headline: String
  id: ID!
  profilename: String
  telegramUrl: String
  user: UserModel!
  vkUrl: String
}

input SkillProfileDto {
  githubUrl: String
  headline: String
  profilename: String
  telegramUrl: String
  vkUrl: String
}

type TagModel {
  id: ID!
  name: String!
}

type TopicEdgeModel {
  from: TopicNodeModel!
  fromId: String!
  id: ID!
  to: TopicNodeModel!
  toId: String!
}

type TopicNodeModel {
  content: String
  id: ID!
  incomingEdges: [TopicEdgeModel!]
  outgoingEdges: [TopicEdgeModel!]
  route: RouteModel!
  title: String!
}

input UpdateRouteDto {
  description: String
  privateType: PrivateType
  tagIds: [String!]
  title: String
}

type UserModel {
  accounts: [AccountModel!]
  avatar: String
  email: String!
  id: ID!
  isTwoFactorEnabled: Boolean!
  isVerified: Boolean!
  message: String
  method: AuthMethod!
  name: String!
  password: String!
  role: String!
  skillProfile: SkillProfile
}

input UserProfileDto {
  isTwoFactorEnabled: Boolean
  name: String
}